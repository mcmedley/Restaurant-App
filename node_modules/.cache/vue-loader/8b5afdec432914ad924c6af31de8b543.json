{"remainingRequest":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\src\\views\\Products.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\src\\views\\Products.vue","mtime":1588347906084},{"path":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkYiwgZmIgfSBmcm9tICIuLi9maXJlYmFzZSI7DQppbXBvcnQgJCBmcm9tICJqcXVlcnkiOw0KaW1wb3J0IFN3YWwgZnJvbSAic3dlZXRhbGVydDIiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJQcm9kdWN0cyIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHByb2R1Y3Q6IHsNCiAgICAgICAgbmFtZTogbnVsbCwNCiAgICAgICAgZGVzY3JpcHRpb246IG51bGwsDQogICAgICAgIHByaWNlOiBudWxsLA0KICAgICAgICBpbWFnZXM6IFtdLA0KICAgICAgICBjb21tZW50OiBudWxsLA0KICAgICAgfSwNCiAgICAgIGFjdGl2ZUl0ZW06IG51bGwsDQogICAgICBtb2RhbDogbnVsbCwNCiAgICB9Ow0KICB9LA0KICBmaXJlc3RvcmUoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHByb2R1Y3RzOiBkYi5jb2xsZWN0aW9uKCJwcm9kdWN0cyIpLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB1cGxvYWRJbWFnZShlKSB7DQogICAgICBpZiAoZS50YXJnZXQuZmlsZXNbMF0pIHsNCiAgICAgICAgbGV0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsNCg0KICAgICAgICB2YXIgc3RvcmFnZVJlZiA9IGZiDQogICAgICAgICAgLnN0b3JhZ2UoKQ0KICAgICAgICAgIC5yZWYoInByb2R1Y3RzLyIgKyBNYXRoLnJhbmRvbSgpICsgIl8iICsgZmlsZS5uYW1lKTsNCg0KICAgICAgICBsZXQgdXBsb2FkVGFzayA9IHN0b3JhZ2VSZWYucHV0KGZpbGUpOw0KDQogICAgICAgIHVwbG9hZFRhc2sub24oDQogICAgICAgICAgInN0YXRlX2NoYW5nZWQiLA0KICAgICAgICAgIChzbmFwc2hvdCkgPT4gew0KICAgICAgICAgICAgdmFyIHByb2dyZXNzID0NCiAgICAgICAgICAgICAgKHNuYXBzaG90LmJ5dGVzVHJhbnNmZXJyZWQgLyBzbmFwc2hvdC50b3RhbEJ5dGVzKSAqIDEwMDsNCiAgICAgICAgICAgICQoIi5wcm9ncmVzcy1iYXIiKS5jc3MoIndpZHRoIiwgcHJvZ3Jlc3MgKyAiJSIpOw0KICAgICAgICAgIH0sDQogICAgICAgICAgKGVycm9yKSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgICAgfSwNCiAgICAgICAgICAoKSA9PiB7DQogICAgICAgICAgICB1cGxvYWRUYXNrLnNuYXBzaG90LnJlZi5nZXREb3dubG9hZFVSTCgpLnRoZW4oKGRvd25sb2FkVVJMKSA9PiB7DQogICAgICAgICAgICAgIHRoaXMucHJvZHVjdC5pbWFnZXMucHVzaChkb3dubG9hZFVSTCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgICk7DQogICAgICB9DQogICAgfSwNCg0KICAgIHJlc2V0KCkgew0KICAgICAgdGhpcy5wcm9kdWN0ID0gew0KICAgICAgICBuYW1lOiBudWxsLA0KICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwNCiAgICAgICAgcHJpY2U6IG51bGwsDQogICAgICAgIGltYWdlczogW10sDQogICAgICB9Ow0KICAgICAgJCgiLnByb2dyZXNzLWJhciIpLmNzcygid2lkdGgiLCAwICsgIiUiKTsNCiAgICB9LA0KICAgIGFkZE5ldygpIHsNCiAgICAgIHRoaXMubW9kYWwgPSAibmV3IjsNCiAgICAgIHRoaXMucmVzZXQoKTsNCiAgICAgICQoIiNwcm9kdWN0IikubW9kYWwoInNob3ciKTsNCiAgICB9LA0KICAgIHVwZGF0ZVByb2R1Y3QoKSB7DQogICAgICB0aGlzLiRmaXJlc3RvcmUucHJvZHVjdHMuZG9jKHRoaXMucHJvZHVjdC5pZCkudXBkYXRlKHRoaXMucHJvZHVjdCk7DQogICAgICAkKCIjcHJvZHVjdCIpLm1vZGFsKCJoaWRlIik7DQogICAgfSwNCiAgICBlZGl0UHJvZHVjdChwcm9kdWN0KSB7DQogICAgICB0aGlzLm1vZGFsID0gImVkaXQiOw0KICAgICAgdGhpcy5wcm9kdWN0ID0gcHJvZHVjdDsNCiAgICAgICQoIiNwcm9kdWN0IikubW9kYWwoInNob3ciKTsNCiAgICB9LA0KICAgIGRlbGV0ZVByb2R1Y3QoZG9jKSB7DQogICAgICBTd2FsLmZpcmUoew0KICAgICAgICB0aXRsZTogIkFyZSB5b3Ugc3VyZT8iLA0KICAgICAgICB0ZXh0OiAiWW91IHdvbid0IGJlIGFibGUgdG8gcmV2ZXJ0IHRoaXMhIiwNCiAgICAgICAgaWNvbjogIndhcm5pbmciLA0KICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLA0KICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICIjMzA4NWQ2IiwNCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICIjZDMzIiwNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZZXMsIGRlbGV0ZSBpdCEiLA0KICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7DQogICAgICAgIGlmIChyZXN1bHQudmFsdWUpIHsNCiAgICAgICAgICB0aGlzLiRmaXJlc3RvcmUucHJvZHVjdHMuZG9jKGRvY1siLmtleSJdKS5kZWxldGUoKTsNCiAgICAgICAgICBTd2FsLmZpcmUoIkRlbGV0ZWQhIiwgIk1lbnUgSXRlbSBoYXMgYmVlbiBkZWxldGVkLiIsICJzdWNjZXNzIik7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgcmVhZERhdGEoKSB7fSwNCiAgICBhZGRQcm9kdWN0KCkgew0KICAgICAgdGhpcy4kZmlyZXN0b3JlLnByb2R1Y3RzLmFkZCh0aGlzLnByb2R1Y3QpOw0KICAgICAgU3dhbC5maXJlKCJBZGRlZCEiLCAiTWVudSBJdGVtIHN1Y2Nlc3NmdWxseSBhZGRlZCIsICJzdWNjZXNzIik7DQogICAgICAkKCIjcHJvZHVjdCIpLm1vZGFsKCJoaWRlIik7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Products.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0MA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Products.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"products\">\r\n    <div class=\"container\">\r\n      <div class=\"intro h-100\">\r\n        <div class=\"row h-100 justify-content-center align-items-center\">\r\n          <div class=\"col-md-6\">\r\n            <h3>Menu</h3>\r\n\r\n            <p>\r\n              Lorem ipsum dolor, sit amet consectetur adipisicing elit. Unde,\r\n              ducimus.\r\n            </p>\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <img src alt class=\"img-fluid\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <hr />\r\n\r\n      <div class=\"product-test\">\r\n        <h3 class=\"d-inline-block\">Menu</h3>\r\n        <button @click=\"addNew\" class=\"btn btn-primary float-right\">\r\n          Add Menu Item\r\n        </button>\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Name</th>\r\n                <th>Price</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"product in products\" v-bind:key=\"product\">\r\n                <td>{{ product.name }}</td>\r\n                <td>{{ product.price }}</td>\r\n                <td>\r\n                  <button class=\"btn btn-primary\" @click=\"editProduct(product)\">\r\n                    Edit\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    @click=\"deleteProduct(product)\"\r\n                    class=\"btn btn-danger\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n                <div class=\"form-group d-flex\">\r\n                  <div\r\n                    class=\"p-1\"\r\n                    v-for=\"image in product.images\"\r\n                    v-bind:key=\"image\"\r\n                  >\r\n                    <img :src=\"image\" alt width=\"80px\" />\r\n                  </div>\r\n                </div>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"product\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"editLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"editLabel\">Menu Item</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"close\"\r\n              data-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            >\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <!-- main product -->\r\n              <div class=\"col-md-8\">\r\n                <div class=\"form-group\">\r\n                  <label>Product Name</label>\r\n                  <div class=\"input-group mb-3\">\r\n                    <div class=\"input-group-prepend\">\r\n                      <span class=\"input-group-text\" id=\"basic-addon1\"\r\n                        >Name</span\r\n                      >\r\n                    </div>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Product Name\"\r\n                      v-model=\"product.name\"\r\n                      class=\"form-control\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                  <label>Product Description</label>\r\n                  <div class=\"input-group\">\r\n                    <div class=\"input-group-prepend\">\r\n                      <span class=\"input-group-text\">Description</span>\r\n                    </div>\r\n                    <textarea\r\n                      name=\"description\"\r\n                      placeholder=\"Product Description\"\r\n                      v-model=\"product.description\"\r\n                      class=\"form-control\"\r\n                    ></textarea>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- product sidebar -->\r\n              <div class=\"col-md-4\">\r\n                <h4 class=\"display-6\">Food Details</h4>\r\n                <hr />\r\n\r\n                <div class=\"form-group\">\r\n                  <label>Product Price</label>\r\n                  <div class=\"input-group mb-3\">\r\n                    <div class=\"input-group-prepend\">\r\n                      <span class=\"input-group-text\">$</span>\r\n                    </div>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Product price\"\r\n                      v-model=\"product.price\"\r\n                      class=\"form-control\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                  <label for=\"product_image\">Product Images</label>\r\n                  <input\r\n                    type=\"file\"\r\n                    @change=\"uploadImage\"\r\n                    class=\"form-control\"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"form-group d-flex\">\r\n                  <div\r\n                    class=\"p-1\"\r\n                    v-for=\"image in product.images\"\r\n                    v-bind:key=\"image\"\r\n                  >\r\n                    <img :src=\"image\" alt width=\"80px\" />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"progress\">\r\n                  <div class=\"progress-bar\" style=\"min-width: 0px;\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-secondary\"\r\n              data-dismiss=\"modal\"\r\n            >\r\n              Close\r\n            </button>\r\n            <button\r\n              @click=\"addProduct()\"\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n              v-if=\"modal == 'new'\"\r\n            >\r\n              Add Item\r\n            </button>\r\n            <button\r\n              @click=\"updateProduct()\"\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n              v-if=\"modal == 'edit'\"\r\n            >\r\n              Apply changes\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { db, fb } from \"../firebase\";\r\nimport $ from \"jquery\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default {\r\n  name: \"Products\",\r\n  data() {\r\n    return {\r\n      product: {\r\n        name: null,\r\n        description: null,\r\n        price: null,\r\n        images: [],\r\n        comment: null,\r\n      },\r\n      activeItem: null,\r\n      modal: null,\r\n    };\r\n  },\r\n  firestore() {\r\n    return {\r\n      products: db.collection(\"products\"),\r\n    };\r\n  },\r\n  methods: {\r\n    uploadImage(e) {\r\n      if (e.target.files[0]) {\r\n        let file = e.target.files[0];\r\n\r\n        var storageRef = fb\r\n          .storage()\r\n          .ref(\"products/\" + Math.random() + \"_\" + file.name);\r\n\r\n        let uploadTask = storageRef.put(file);\r\n\r\n        uploadTask.on(\r\n          \"state_changed\",\r\n          (snapshot) => {\r\n            var progress =\r\n              (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            $(\".progress-bar\").css(\"width\", progress + \"%\");\r\n          },\r\n          (error) => {\r\n            console.log(error);\r\n          },\r\n          () => {\r\n            uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n              this.product.images.push(downloadURL);\r\n            });\r\n          }\r\n        );\r\n      }\r\n    },\r\n\r\n    reset() {\r\n      this.product = {\r\n        name: null,\r\n        description: null,\r\n        price: null,\r\n        images: [],\r\n      };\r\n      $(\".progress-bar\").css(\"width\", 0 + \"%\");\r\n    },\r\n    addNew() {\r\n      this.modal = \"new\";\r\n      this.reset();\r\n      $(\"#product\").modal(\"show\");\r\n    },\r\n    updateProduct() {\r\n      this.$firestore.products.doc(this.product.id).update(this.product);\r\n      $(\"#product\").modal(\"hide\");\r\n    },\r\n    editProduct(product) {\r\n      this.modal = \"edit\";\r\n      this.product = product;\r\n      $(\"#product\").modal(\"show\");\r\n    },\r\n    deleteProduct(doc) {\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"You won't be able to revert this!\",\r\n        icon: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3085d6\",\r\n        cancelButtonColor: \"#d33\",\r\n        confirmButtonText: \"Yes, delete it!\",\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.$firestore.products.doc(doc[\".key\"]).delete();\r\n          Swal.fire(\"Deleted!\", \"Menu Item has been deleted.\", \"success\");\r\n        }\r\n      });\r\n    },\r\n    readData() {},\r\n    addProduct() {\r\n      this.$firestore.products.add(this.product);\r\n      Swal.fire(\"Added!\", \"Menu Item successfully added\", \"success\");\r\n      $(\"#product\").modal(\"hide\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\"></style>\r\n"]}]}