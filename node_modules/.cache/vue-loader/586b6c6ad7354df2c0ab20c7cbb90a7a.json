{"remainingRequest":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\src\\views\\Location.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\src\\views\\Location.vue","mtime":1588347906081},{"path":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Matt Medley\\Desktop\\eat24\\g01\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWFwIGZyb20gIi4uL2NvbXBvbmVudHMvTWFwIjsNCmltcG9ydCB7IGV2ZW50QnVzIH0gZnJvbSAiQC9ldmVudC1idXMuanMiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJsb2NhdGlvbiIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBNYXAsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRoZUxvY2F0aW9uOiAiIiwNCiAgICAgIHRoZUtleXdvcmQ6ICIiLA0KICAgICAgY2l0eVN0YXRlOiAiIiwNCiAgICAgIGN1clBsYWNlOiBudWxsLA0KICAgICAgZ2VvY29kZXI6IG51bGwsDQogICAgfTsNCiAgfSwNCg0KICBtb3VudGVkOiBmdW5jdGlvbigpIHsNCiAgICBldmVudEJ1cy4kb24oImdvb2dsZUluaXQiLCAoKSA9PiB7DQogICAgICB0aGlzLmluaXRNYXBBdXRvY29tcGxldGUoKTsNCiAgICB9KTsNCg0KICAgIGV2ZW50QnVzLiRvbigibWFwQWRkcmVzcyIsIChwYXlsb2FkKSA9PiB7DQogICAgICB0aGlzLnVwZGF0ZUFkZHJlc3NGcm9tTWFwKHBheWxvYWQpOw0KICAgIH0pOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgbGF1bmNoUGxhY2VzU2VhcmNoKCkgew0KICAgICAgZXZlbnRCdXMuJGVtaXQoImxhdW5jaEtleXdvcmRTZWFyY2giLCB0aGlzLnRoZUtleXdvcmQpOw0KICAgIH0sDQoNCiAgICBkb0NsZWFyTG9jYXRpb24oKSB7DQogICAgICB0aGlzLnRoZUxvY2F0aW9uID0gIiI7DQogICAgICB0aGlzLmN1clBsYWNlID0gIiI7DQogICAgfSwNCg0KICAgIGNpdHlTdGF0ZUhlbHBlcihzdHIpIHsNCiAgICAgIGxldCBjaXR5ID0gIiI7DQogICAgICBsZXQgc3RhdGUgPSAiIjsNCg0KICAgICAgaWYgKCFzdHIpIHJldHVybiAiIjsNCg0KICAgICAgY29uc3QgYWRkcmVzc1BhcnRzID0gc3RyLnNwbGl0KCIsIik7DQogICAgICBjaXR5ID0gYWRkcmVzc1BhcnRzWzBdOw0KICAgICAgc3RhdGUgPSBhZGRyZXNzUGFydHNbMV0udHJpbSgpLnN1YnN0cmluZygwLCAyKTsNCiAgICAgIHJldHVybiBgJHtjaXR5fSwke3N0YXRlfWA7DQogICAgfSwNCg0KICAgIHVwZGF0ZUFkZHJlc3NGcm9tTWFwKHBheWxvYWQpIHsNCiAgICAgIGNvbnN0IGZpcnN0QWRkcmVzcyA9IHBheWxvYWRbMF0uZm9ybWF0dGVkX2FkZHJlc3M7DQogICAgICB0aGlzLnRoZUxvY2F0aW9uID0gZmlyc3RBZGRyZXNzOw0KICAgICAgdGhpcy5jdXJQbGFjZSA9IHRoaXMudGhlTG9jYXRpb247DQogICAgICB0aGlzLmNpdHlTdGF0ZSA9IHRoaXMuZ2V0Q2l0eVN0YXRlKHBheWxvYWQpOw0KICAgIH0sDQoNCiAgICBpbml0TWFwQXV0b2NvbXBsZXRlKCkgew0KICAgICAgdGhpcy5nZW9jb2RlciA9IG5ldyBnb29nbGUubWFwcy5HZW9jb2RlcigpOw0KDQogICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwYWMtaW5wdXQiKTsNCiAgICAgIGNvbnN0IGF1dG9jb21wbGV0ZSA9IG5ldyBnb29nbGUubWFwcy5wbGFjZXMuQXV0b2NvbXBsZXRlKGlucHV0KTsNCg0KICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIoYXV0b2NvbXBsZXRlLCAicGxhY2VfY2hhbmdlZCIsICgpID0+IHsNCiAgICAgICAgdGhpcy5jdXJQbGFjZSA9IGF1dG9jb21wbGV0ZS5nZXRQbGFjZSgpOw0KICAgICAgICB0aGlzLnRoZUxvY2F0aW9uID0gdGhpcy5jdXJQbGFjZS5mb3JtYXR0ZWRfYWRkcmVzczsNCg0KICAgICAgICBpZiAodHlwZW9mIHRoaXMuY3VyUGxhY2UuZm9ybWF0dGVkX2FkZHJlc3MgIT09ICJ1bmRlZmluZWQiKSB7DQogICAgICAgICAgdGhpcy5jaXR5U3RhdGUgPSB0aGlzLmNpdHlTdGF0ZUhlbHBlcigNCiAgICAgICAgICAgIHRoaXMuY3VyUGxhY2UuZm9ybWF0dGVkX2FkZHJlc3MNCiAgICAgICAgICApOw0KICAgICAgICAgIGV2ZW50QnVzLiRlbWl0KCJuZXdUZXh0QWRkcmVzcyIsIHRoaXMuY3VyUGxhY2UpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Location.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Location.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-app>\r\n    <v-content>\r\n      <v-container>\r\n        <v-layout row>\r\n          <v-flex xs5>\r\n            <v-text-field\r\n              outlined\r\n              label=\"Location\"\r\n              placeholder=\" \"\r\n              append-icon=\"close\"\r\n              @click:append=\"doClearLocation\"\r\n              v-model=\"theLocation\"\r\n              id=\"pac-input\"\r\n            >\r\n            </v-text-field>\r\n          </v-flex>\r\n        </v-layout>\r\n\r\n        <Map />\r\n      </v-container>\r\n    </v-content>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport Map from \"../components/Map\";\r\nimport { eventBus } from \"@/event-bus.js\";\r\n\r\nexport default {\r\n  name: \"location\",\r\n  components: {\r\n    Map,\r\n  },\r\n  data() {\r\n    return {\r\n      theLocation: \"\",\r\n      theKeyword: \"\",\r\n      cityState: \"\",\r\n      curPlace: null,\r\n      geocoder: null,\r\n    };\r\n  },\r\n\r\n  mounted: function() {\r\n    eventBus.$on(\"googleInit\", () => {\r\n      this.initMapAutocomplete();\r\n    });\r\n\r\n    eventBus.$on(\"mapAddress\", (payload) => {\r\n      this.updateAddressFromMap(payload);\r\n    });\r\n  },\r\n  methods: {\r\n    launchPlacesSearch() {\r\n      eventBus.$emit(\"launchKeywordSearch\", this.theKeyword);\r\n    },\r\n\r\n    doClearLocation() {\r\n      this.theLocation = \"\";\r\n      this.curPlace = \"\";\r\n    },\r\n\r\n    cityStateHelper(str) {\r\n      let city = \"\";\r\n      let state = \"\";\r\n\r\n      if (!str) return \"\";\r\n\r\n      const addressParts = str.split(\",\");\r\n      city = addressParts[0];\r\n      state = addressParts[1].trim().substring(0, 2);\r\n      return `${city},${state}`;\r\n    },\r\n\r\n    updateAddressFromMap(payload) {\r\n      const firstAddress = payload[0].formatted_address;\r\n      this.theLocation = firstAddress;\r\n      this.curPlace = this.theLocation;\r\n      this.cityState = this.getCityState(payload);\r\n    },\r\n\r\n    initMapAutocomplete() {\r\n      this.geocoder = new google.maps.Geocoder();\r\n\r\n      const input = document.getElementById(\"pac-input\");\r\n      const autocomplete = new google.maps.places.Autocomplete(input);\r\n\r\n      google.maps.event.addListener(autocomplete, \"place_changed\", () => {\r\n        this.curPlace = autocomplete.getPlace();\r\n        this.theLocation = this.curPlace.formatted_address;\r\n\r\n        if (typeof this.curPlace.formatted_address !== \"undefined\") {\r\n          this.cityState = this.cityStateHelper(\r\n            this.curPlace.formatted_address\r\n          );\r\n          eventBus.$emit(\"newTextAddress\", this.curPlace);\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.v-input__icon--append {\r\n  cursor: pointer;\r\n  pointer-events: auto;\r\n}\r\n</style>\r\n"]}]}